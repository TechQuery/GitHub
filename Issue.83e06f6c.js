var e=globalThis.parcelRequire94c2;(0,e.register)("gonO9",function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(t.exports,"default",{get:()=>u,set:void 0,enumerable:!0,configurable:!0});var a=e("7SioY"),i=e("dZnzp"),r=e("1rFJW"),n=e("iHeii"),l=e("e1olD"),o=function(e,t,s,a,i,r){function n(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var l,o=a.kind,c="getter"===o?"get":"setter"===o?"set":"value",d=!t&&e?a.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),u=!1,m=s.length-1;m>=0;m--){var p={};for(var b in a)p[b]="access"===b?{}:a[b];for(var b in a.access)p.access[b]=a.access[b];p.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(n(e||null))};var g=(0,s[m])("accessor"===o?{get:h.get,set:h.set}:h[c],p);if("accessor"===o){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(l=n(g.get))&&(h.get=l),(l=n(g.set))&&(h.set=l),(l=n(g.init))&&i.unshift(l)}else(l=n(g))&&("field"===o?i.unshift(l):h[c]=l)}d&&Object.defineProperty(d,a.name,h),u=!0},c=function(e,t,s){for(var a=arguments.length>2,i=0;i<t.length;i++)s=a?t[i].call(e,s):t[i].call(e);return a?s:void 0},d=function(e,t,s,a){if("a"===s&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)},h=function(e,t,s,a,i){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,s):i?i.value=s:t.set(e,s),s},u=(()=>{var e,t,s,u,m,p;let b,g,f,v,j,x=[(0,r.component)({tagName:"issue-page"}),r.observer],w=[],y=HTMLElement,N=[],S=[],D=[],C=[],L=[],T=[];g=class extends y{constructor(){super(...arguments),u.set(this,c(this,N,"")),m.set(this,(c(this,S),c(this,D,""))),p.set(this,(c(this,C),c(this,L,""))),Object.defineProperty(this,"renderComment",{enumerable:!0,configurable:!0,writable:!0,value:(c(this,T),({id:e,user:t,body:s,created_at:i,updated_at:r})=>(0,a.jsxs)("section",{className:"media",children:[(0,a.jsxs)("div",{className:"media-left text-center",children:[(0,a.jsxs)("a",{href:`#/users/${null==t?void 0:t.login}`,title:null==t?void 0:t.login,children:[(0,a.jsx)("img",{className:"media-object",src:null==t?void 0:t.avatar_url,style:{width:"50px",height:"50px"},alt:null==t?void 0:t.login}),(0,a.jsx)("div",{className:"ellipsis",children:null==t?void 0:t.login})]}),(0,a.jsx)("abbr",{title:new Date(i).toLocaleString(),children:new Date(i).toLocaleDateString("zh-CN")})]}),(0,a.jsxs)("div",{className:"media-body panel panel-default",children:[(0,a.jsxs)("div",{className:"panel-heading",children:[(0,a.jsx)("abbr",{title:new Date(r).toLocaleString(),children:new Date(r).toLocaleDateString("zh-CN")})," ","更新"]}),(0,a.jsx)("div",{className:"panel-body",innerHTML:null==s?void 0:s.replace(/\n/g,"<br>")})]})]},e))})}get owner(){return d(this,u,"f")}set owner(e){h(this,u,e,"f")}get repo(){return d(this,m,"f")}set repo(e){h(this,m,e,"f")}get issueNumber(){return d(this,p,"f")}set issueNumber(e){h(this,p,e,"f")}mountedCallback(){if(this.owner&&this.repo&&this.issueNumber){let e=parseInt(this.issueNumber,10);l.githubStore.fetchIssue(this.owner,this.repo,e),l.githubStore.fetchIssueComments(this.owner,this.repo,e)}}render(){var e;let{currentIssue:t,issueComments:s,downloading:i}=l.githubStore;return i>0?(0,a.jsx)(n.Loading,{}):(null==t?void 0:t.user)?(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-9",children:[(0,a.jsxs)("h3",{children:["#",t.number," ",t.title,(0,a.jsx)("span",{className:`label label-${"open"===t.state?"success":"danger"}`,children:"open"===t.state?"开启":"关闭"})]}),(0,a.jsxs)("section",{className:"media",children:[(0,a.jsxs)("div",{className:"media-left text-center",children:[(0,a.jsxs)("a",{href:`#/users/${t.user.login}`,title:t.user.login,children:[(0,a.jsx)("img",{className:"media-object",src:t.user.avatar_url,style:{width:"50px",height:"50px"},alt:t.user.login}),(0,a.jsx)("div",{className:"ellipsis",children:t.user.login})]}),(0,a.jsx)("abbr",{title:new Date(t.created_at).toLocaleString(),children:new Date(t.created_at).toLocaleDateString("zh-CN")})]}),(0,a.jsxs)("div",{className:"media-body panel panel-default",children:[(0,a.jsxs)("div",{className:"panel-heading",children:[(0,a.jsx)("abbr",{title:new Date(t.updated_at).toLocaleString(),children:new Date(t.updated_at).toLocaleDateString("zh-CN")})," ","更新"]}),(0,a.jsx)("div",{className:"panel-body",innerHTML:(null==(e=t.body)?void 0:e.replace(/\n/g,"<br>"))||"无描述"})]})]}),s.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{children:["评论 (",s.length,")"]}),s.map(this.renderComment)]})]}),(0,a.jsxs)("aside",{className:"col-md-3",children:[(0,a.jsx)("h4",{children:"指派"}),(0,a.jsx)("div",{children:t.assignees&&t.assignees.length>0?t.assignees.map(e=>(0,a.jsx)("a",{href:`#/users/${e.login}`,title:e.login,children:(0,a.jsx)("img",{className:"img-thumbnail",src:e.avatar_url,style:{width:"40px",height:"40px"},alt:e.login})},e.id)):(0,a.jsx)("span",{children:"无人指派"})}),(0,a.jsx)("hr",{}),(0,a.jsx)("h4",{children:"标签"}),(0,a.jsx)("div",{children:t.labels&&t.labels.length>0?t.labels.map(e=>"object"==typeof e&&(0,a.jsx)("i",{className:"label",style:{background:`#${e.color}`},children:e.name},e.id)):(0,a.jsx)("span",{children:"无标签"})}),(0,a.jsx)("hr",{}),(0,a.jsx)("h4",{children:"里程碑"}),(0,a.jsx)("div",{children:t.milestone?(0,a.jsx)("a",{href:`#/repos/${this.owner}/${this.repo}/milestones/${t.milestone.number}`,children:t.milestone.title}):(0,a.jsx)("span",{children:"未设置"})})]})]}):(0,a.jsx)("div",{children:"问题不存在"})}},u=new WeakMap,m=new WeakMap,p=new WeakMap,e=g,"symbol"==typeof(t="IssuePage")&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t});let O="function"==typeof Symbol&&Symbol.metadata?Object.create(null!=(s=y[Symbol.metadata])?s:null):void 0;return f=[i.observable,r.attribute],v=[i.observable,r.attribute],j=[i.observable,r.attribute],o(g,null,f,{kind:"accessor",name:"owner",static:!1,private:!1,access:{has:e=>"owner"in e,get:e=>e.owner,set:(e,t)=>{e.owner=t}},metadata:O},N,S),o(g,null,v,{kind:"accessor",name:"repo",static:!1,private:!1,access:{has:e=>"repo"in e,get:e=>e.repo,set:(e,t)=>{e.repo=t}},metadata:O},D,C),o(g,null,j,{kind:"accessor",name:"issueNumber",static:!1,private:!1,access:{has:e=>"issueNumber"in e,get:e=>e.issueNumber,set:(e,t)=>{e.issueNumber=t}},metadata:O},L,T),o(null,b={value:g},x,{kind:"class",name:g.name,metadata:O},null,w),g=b.value,O&&Object.defineProperty(g,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O}),c(g,w),g})()});
//# sourceMappingURL=Issue.83e06f6c.js.map
